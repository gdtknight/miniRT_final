# README - miniRT 기술 문서 (전체설명)

이 섹션은 miniRT의 **알고리즘, 이론, 구조**에 대한 심층 기술 문서를 제공합니다.

> 💡 **처음이신가요?** 사용법과 시작 가이드는 [01-시작하기/](../01-시작하기/)를 참조하세요.

## 📚 문서 목록

### 1. [프로그램 개요](./01_프로그램_개요.md) ⭐ 시작
- miniRT 프로젝트 전체 소개
- 지원 기능 및 객체 (구, 평면, 원기둥)
- 프로젝트 구조 및 아키텍처
- 실행 방법 및 예제

### 2. [프로그램 흐름](./02_프로그램_흐름.md)
- 전체 실행 흐름
- 각 단계별 상세 설명
- 렌더링 루프
- 이벤트 처리

### 3. [레이 트레이싱 알고리즘](./03_레이_트레이싱_알고리즘.md)
- 레이 트레이싱 기본 개념
- 구, 평면, 원기둥 교차 검사 알고리즘
- 수학적 원리와 구현
- 최적화 기법

### 4. [조명 및 그림자 시스템](./04_조명_그림자_시스템.md)
- Phong 조명 모델 (Ambient, Diffuse, Specular)
- Soft Shadows 구현
- 다중 샘플링 기법
- Shadow Acne 방지

### 5. [씬 파일 파싱](./05_씬_파일_파싱.md)
- .rt 파일 형식 명세
- 각 요소별 문법
- 파싱 프로세스
- 검증 및 오류 처리

### 6. [벡터 수학](./06_벡터_수학.md)
- 벡터 기본 연산 (덧셈, 뺄셈, 스칼라 곱)
- 내적 (Dot Product)
- 외적 (Cross Product)
- 정규화, 반사, 보간
- 색상 연산

## 🎯 문서 사용 가이드

### 역할별 읽기 순서

#### 학생 / 과제 수행자
1. **[프로그램 개요](./01_프로그램_개요.md)** → 전체 그림 파악
2. **[벡터 수학](./06_벡터_수학.md)** → 기초 수학 개념 (매우 중요!)
3. **[씬 파일 파싱](./05_씬_파일_파싱.md)** → 입력 데이터 구조 이해
4. **[레이 트레이싱 알고리즘](./03_레이_트레이싱_알고리즘.md)** → 핵심 렌더링 로직
5. **[조명 및 그림자 시스템](./04_조명_그림자_시스템.md)** → 시각적 품질 향상
6. **[프로그램 흐름](./02_프로그램_흐름.md)** → 전체 통합 이해

#### 코드 리뷰어 / 평가자
1. **[프로그램 개요](./01_프로그램_개요.md)** → 프로젝트 이해
2. **[프로그램 흐름](./02_프로그램_흐름.md)** → 실행 흐름 파악
3. **[레이 트레이싱 알고리즘](./03_레이_트레이싱_알고리즘.md)** → 알고리즘 검증
4. **[조명 및 그림자 시스템](./04_조명_그림자_시스템.md)** → 조명 모델 확인

#### 디버깅 중
1. 증상에 따라 해당 문서의 "디버깅 섹션" 참조
2. [레이 트레이싱 알고리즘 - 디버깅 팁](./03_레이_트레이싱_알고리즘.md#6-디버깅-팁)
3. [조명 - 디버깅 및 시각화](./04_조명_그림자_시스템.md#8-디버깅-및-시각화)

### 문제 해결 시 참고 순서

#### "렌더링이 이상해요"
1. [레이 트레이싱 알고리즘](./03_레이_트레이싱_알고리즘.md) - 교차 검사 로직
2. [프로그램 흐름](./02_프로그램_흐름.md) - 렌더링 파이프라인
3. [벡터 수학](./06_벡터_수학.md) - 법선 벡터 계산

#### "조명이 이상해요"
1. [조명 및 그림자 시스템](./04_조명_그림자_시스템.md) - 조명 모델
2. [벡터 수학](./06_벡터_수학.md) - 내적, 반사 벡터

#### "파일을 못 읽어요"
1. [씬 파일 파싱](./05_씬_파일_파싱.md) - 파일 형식, 파서 구현

#### "그림자가 이상해요"
1. [조명 및 그림자 시스템](./04_조명_그림자_시스템.md) - Soft Shadows, Shadow Acne

## 🔍 주요 개념 빠른 참조

### 레이 방정식
```
P(t) = O + t * D
```
📖 [레이 트레이싱 알고리즘](./03_레이_트레이싱_알고리즘.md#11-레이ray란)

### 구 교차 검사
```
at² + bt + c = 0
discriminant = b² - 4ac
```
📖 [레이 트레이싱 알고리즘](./03_레이_트레이싱_알고리즘.md#2-레이-구-교차-검사)

### Phong 조명
```
I = Ia + Id + Is
```
📖 [조명 및 그림자 시스템](./04_조명_그림자_시스템.md#1-phong-조명-모델)

### 벡터 내적
```
v · w = vx·wx + vy·wy + vz·wz
```
📖 [벡터 수학](./06_벡터_수학.md#3-벡터-내적-dot-product)

### 벡터 정규화
```
v̂ = v / ||v||
```
📖 [벡터 수학](./06_벡터_수학.md#53-정규화-normalization)

## 📖 코드 예제 인덱스

### 교차 검사
- 구 교차: [레이 트레이싱 알고리즘](./03_레이_트레이싱_알고리즘.md#22-구현-코드)
- 평면 교차: [레이 트레이싱 알고리즘](./03_레이_트레이싱_알고리즘.md#32-구현-코드)
- 원기둥 교차: [레이 트레이싱 알고리즘](./03_레이_트레이싱_알고리즘.md#42-측면-교차-검사)

### 조명 계산
- 전체 조명: [조명 및 그림자 시스템](./04_조명_그림자_시스템.md#11-최종-조명-방정식)
- Specular: [조명 및 그림자 시스템](./04_조명_그림자_시스템.md#42-반사-벡터-계산)
- Soft Shadows: [조명 및 그림자 시스템](./04_조명_그림자_시스템.md#52-다중-샘플링-기법)

### 벡터 연산
- 기본 연산: [벡터 수학](./06_벡터_수학.md#2-기본-벡터-연산)
- 내적/외적: [벡터 수학](./06_벡터_수학.md#3-벡터-내적-dot-product)
- 반사 벡터: [벡터 수학](./06_벡터_수학.md#61-반사-벡터-reflection)

### 파싱
- 전체 파서: [씬 파일 파싱](./05_씬_파일_파싱.md#22-주요-파서-함수)
- 구 파싱: [씬 파일 파싱](./05_씬_파일_파싱.md#23-구체적-파싱-예제)
- 원기둥 파싱: [씬 파일 파싱](./05_씬_파일_파싱.md#23-구체적-파싱-예제)

## 🛠️ 디버깅 가이드

### 시각적 디버깅

#### 법선 벡터 시각화
```c
color.r = (normal.x + 1.0) * 127.5;
color.g = (normal.y + 1.0) * 127.5;
color.b = (normal.z + 1.0) * 127.5;
```
📖 [레이 트레이싱 알고리즘](./03_레이_트레이싱_알고리즘.md#6-디버깅-팁)

#### 거리 시각화
```c
brightness = 1.0 / (1.0 + distance * 0.1);
```
📖 [레이 트레이싱 알고리즘](./03_레이_트레이싱_알고리즘.md#6-디버깅-팁)

### 단계별 테스트

1. **교차 검사만**: 객체 실루엣 확인
2. **Ambient만**: 기본 색상 확인
3. **+ Diffuse**: 명암 확인
4. **+ Specular**: 하이라이트 확인
5. **+ Shadows**: 그림자 확인

📖 [조명 및 그림자 시스템](./04_조명_그림자_시스템.md#8-디버깅-및-시각화)

## 📊 성능 최적화 팁

### 교차 검사 최적화
- 조기 반환 (Early Return)
- 거리 비교 시 제곱 거리 사용
- 바운딩 볼륨 (미구현)

📖 [레이 트레이싱 알고리즘](./03_레이_트레이싱_알고리즘.md#5-최적화-기법)

### 벡터 연산 최적화
- 인라인 함수
- 제곱근 회피
- 결과 캐싱

📖 [벡터 수학](./06_벡터_수학.md#9-성능-최적화)

### 그림자 최적화
- 샘플 수 조절
- 적응형 샘플링 (미구현)

📖 [조명 및 그림자 시스템](./04_조명_그림자_시스템.md#7-성능-vs-품질-트레이드오프)

## 🎨 씬 파일 예제

### 기본 씬
```rt
A 0.2 255,255,255
C 0,0,20 0,0,-1 70
L -10,10,10 0.7 255,255,255
sp 0,0,0 5 255,0,0
pl 0,-5,0 0,1,0 200,200,200
```

### 원기둥 테스트
```rt
A 0.15 255,255,255
C 5,5,15 -0.3,-0.2,-1 70
L -10,15,10 0.8 255,255,255
cy 0,0,0 0,1,0 2.5 6.0 200,50,50
cy -4,0,0 0,0,1 2.0 5.0 50,200,50
pl 0,-3,0 0,1,0 220,220,220
```

📖 [씬 파일 파싱](./05_씬_파일_파싱.md#13-예제-씬-파일)

## 🔗 관련 자료

### 외부 참고 자료

- **Ray Tracing in One Weekend** - Peter Shirley
- **Physically Based Rendering** - Matt Pharr, Greg Humphreys
- **Real-Time Rendering** - Tomas Akenine-Möller
- **Scratchapixel** - https://www.scratchapixel.com/

### 수학 참고

- 선형대수학: 벡터, 행렬 연산
- 기하학: 공간 기하, 교차 검사
- 광학: 빛의 반사, 굴절

## 📝 용어 사전

| 용어 | 의미 | 참고 |
|-----|------|------|
| Ray | 광선, 반직선 | [레이 트레이싱](./03_레이_트레이싱_알고리즘.md#11-레이ray란) |
| Hit | 교차점 | [레이 트레이싱](./03_레이_트레이싱_알고리즘.md) |
| Normal | 법선 벡터 | [벡터 수학](./06_벡터_수학.md) |
| Ambient | 주변광 | [조명](./04_조명_그림자_시스템.md#2-ambient-light-주변광) |
| Diffuse | 난반사 | [조명](./04_조명_그림자_시스템.md#3-diffuse-reflection-난반사) |
| Specular | 정반사 | [조명](./04_조명_그림자_시스템.md#4-specular-reflection-정반사) |
| Soft Shadow | 부드러운 그림자 | [조명](./04_조명_그림자_시스템.md#5-soft-shadows-부드러운-그림자) |
| Penumbra | 반음영 | [조명](./04_조명_그림자_시스템.md#51-개념) |
| Shadow Acne | 그림자 노이즈 | [조명](./04_조명_그림자_시스템.md#6-shadow-acne-방지) |

## 🤝 기여 및 피드백

문서 개선 제안이나 오류 발견 시:
1. 해당 문서 확인
2. 코드와 비교
3. 이슈 또는 PR 생성

## 🔗 다른 문서 섹션

- **[01-시작하기/](../01-시작하기/)** - 실습 가이드 및 사용법
- **[02-개발/](../02-개발/)** - 개발 도구 및 프로세스
- **[03-기능/](../03-기능/)** - 특정 기능 상세 문서

## 📄 라이선스

이 문서는 miniRT 프로젝트의 일부입니다.

---

**마지막 업데이트**: 2025-12-19  
**문서 버전**: 1.1 (기술 문서 통합)  
**프로젝트**: miniRT
