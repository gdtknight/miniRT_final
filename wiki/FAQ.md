# FAQ - 자주 묻는 질문

miniRT 사용 중 자주 발생하는 질문과 답변입니다.

---

## 🚀 설치 및 빌드

### Q: 빌드 시 "mlx.h: No such file or directory" 오류가 발생합니다.

**A**: MinilibX 서브모듈을 초기화하지 않았습니다.

```bash
git submodule update --init --recursive
make re
```

### Q: Linux에서 "X11/Xlib.h: No such file or directory" 오류가 발생합니다.

**A**: X11 개발 라이브러리가 설치되지 않았습니다.

```bash
sudo apt-get install libx11-dev libxext-dev libbsd-dev
make re
```

### Q: macOS에서 빌드가 실패합니다.

**A**: Xcode Command Line Tools를 설치하세요.

```bash
xcode-select --install
```

---

## ▶️ 실행 및 사용

### Q: 프로그램이 실행되지 않습니다.

**A**: 실행 권한과 장면 파일 경로를 확인하세요.

```bash
chmod +x miniRT
./miniRT scenes/test_simple.rt
```

### Q: "Error: Failed to open file" 메시지가 나옵니다.

**A**: 장면 파일 경로가 올바른지 확인하세요.

```bash
ls -la scenes/test_simple.rt
./miniRT /full/path/to/scene.rt  # 절대 경로 사용
```

### Q: 창이 열렸지만 검은 화면만 보입니다.

**A**: 장면 파일 형식이 올바른지 확인하세요.

```bash
cat scenes/test_simple.rt  # 파일 내용 확인
```

필수 요소(A, C, L)가 모두 있는지 확인하고, 카메라가 객체를 바라보는지 확인하세요.

---

## 🎨 렌더링

### Q: 렌더링이 너무 느립니다.

**A**: BVH는 자동으로 활성화됩니다. 다음을 확인하세요:

1. **객체 수**: 50개 이상이면 초기 BVH 빌드에 시간이 걸립니다.
2. **해상도**: 800x600이 기본입니다.
3. **Soft Shadow**: 인터랙션 중에는 자동으로 1 sample로 축소됩니다.

### Q: 그림자가 이상합니다 (점박이 패턴).

**A**: Shadow Acne 현상입니다. 이미 적응형 Shadow Bias가 적용되어 있지만, 매우 얇은 객체에서는 발생할 수 있습니다.

### Q: 객체에 검은 점들이 보입니다.

**A**: 자기 교차(Self-intersection) 문제입니다. Shadow Bias가 충분하지 않을 수 있습니다.

---

## 🎮 조작

### Q: 카메라가 움직이지 않습니다.

**A**: 올바른 키를 사용하고 있는지 확인하세요:
- 이동: W/A/S/D/Q/Z
- 회전: E/C
- 리셋: S

대소문자를 구분하지 않습니다.

### Q: 객체를 선택할 수 없습니다.

**A**: 
1. `[` 또는 `]` 키를 눌러 객체를 순환 선택합니다.
2. HUD를 켜서 (H 키) 선택된 객체 정보를 확인하세요.

### Q: HUD가 표시되지 않습니다.

**A**: H 키를 눌러 HUD를 토글하세요. 기본적으로 표시됩니다.

---

## 🐛 메모리 및 오류

### Q: 메모리 누수가 있습니다.

**A**: miniRT는 메모리 누수 0을 목표로 합니다. 다음을 확인하세요:

```bash
# Linux
valgrind --leak-check=full ./miniRT scenes/test_simple.rt

# macOS
leaks -atExit -- ./miniRT scenes/test_simple.rt
```

ESC 키로 정상 종료하면 모든 메모리가 해제되어야 합니다.

### Q: Segmentation Fault가 발생합니다.

**A**: 
1. 장면 파일 형식이 올바른지 확인
2. 모든 벡터가 정규화되어 있는지 확인 (특히 법선 벡터)
3. 지름/높이 등이 양수인지 확인

---

## 📄 장면 파일

### Q: 장면 파일을 어떻게 작성하나요?

**A**: [씬 파일 형식](씬-파일-형식.md)을 참조하세요. 기본 예제:

```rt
A  0.2  255,255,255
C  0,0,20  0,0,-1  70
L  -10,10,10  0.7  255,255,255
sp  0,0,0  10  255,0,0
pl  0,-5,0  0,1,0  200,200,200
```

### Q: 여러 광원을 추가할 수 있나요?

**A**: 현재 버전은 단일 광원만 지원합니다.

### Q: 객체 개수 제한이 있나요?

**A**: 이론적으로 제한이 없지만, 객체가 많을수록 렌더링이 느려집니다. BVH를 사용하면 성능이 크게 향상됩니다.

---

## 🔧 고급 사용

### Q: FOV를 변경하면 어떻게 되나요?

**A**: 
- **작은 FOV** (30-60°): 망원 렌즈 효과, 좁은 시야
- **중간 FOV** (60-90°): 자연스러운 시야
- **큰 FOV** (90-120°): 광각 렌즈 효과, 왜곡 발생

```rt
C  0,0,20  0,0,-1  30   # 망원
C  0,0,20  0,0,-1  70   # 표준
C  0,0,20  0,0,-1  120  # 광각
```

### Q: 반사(Reflection)를 구현할 수 있나요?

**A**: 현재 버전은 직접 조명만 지원합니다. 반사는 추가 광선 추적이 필요하며, 향후 업데이트에서 지원될 예정입니다.

### Q: 안티앨리어싱을 적용할 수 있나요?

**A**: 픽셀당 여러 샘플을 사용하면 가능하지만, 현재 버전에서는 지원하지 않습니다.

---

## 🎓 학습

### Q: 레이 트레이싱을 처음 배우는데, 어디서 시작해야 하나요?

**A**: 다음 순서로 학습하세요:

1. [프로그램 개요](프로그램-개요.md)
2. [레이 트레이싱 알고리즘](레이-트레이싱-알고리즘.md)
3. [조명 시스템](조명-시스템.md)
4. 실제 코드 읽기 (`src/ray/`, `src/lighting/`)

### Q: 코드를 수정하고 싶은데, 어디서 시작해야 하나요?

**A**: [개발 가이드](개발-가이드.md)를 참조하세요. 모듈별 구조와 확장 방법이 설명되어 있습니다.

### Q: 42 Norminette가 무엇인가요?

**A**: 42 School의 코딩 스타일 가이드입니다. 주요 규칙:
- 함수당 최대 25줄
- 파일당 최대 5개 함수
- 함수 파라미터 최대 4개
- 금지된 키워드: for, switch, do-while 등

```bash
# Norminette 검사
norminette src/ includes/
```

---

## 📞 도움 받기

### 문제가 해결되지 않으면?

1. **문서 확인**: [Wiki 홈](Home.md)에서 관련 문서 찾기
2. **코드 확인**: 소스 코드의 주석 읽기
3. **이슈 생성**: GitHub Issues에 상세한 설명과 함께 제보

### 버그 리포트 시 포함할 정보

```
- OS 및 버전 (예: Ubuntu 20.04, macOS 11.6)
- 빌드 방법 (make, make re)
- 장면 파일 내용
- 에러 메시지 (전체 출력)
- 예상 동작 vs 실제 동작
```

---

## 🔗 관련 링크

- [빠른 시작 가이드](빠른-시작-가이드.md)
- [문제 해결](문제-해결.md)
- [개발 가이드](개발-가이드.md)

---

**Last Updated**: 2026-01-06  
**Version**: 2.0.0
